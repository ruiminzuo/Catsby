# å“ˆå¸Œè¡¨ğŸ˜Š

## 1. ä»€ä¹ˆæ˜¯å“ˆå¸Œè¡¨ï¼ˆ`unordered_map`ï¼‰ï¼Ÿ

- å“ˆå¸Œè¡¨æ˜¯ä¸€ç§**é”®å€¼å¯¹ï¼ˆkey-valueï¼‰** æ•°æ®ç»“æ„ã€‚
- åœ¨ C++ ä¸­ï¼Œå¸¸ç”¨ **`unordered_map<KeyType, ValueType>`** è¡¨ç¤ºï¼Œå®ƒåœ¨å†…éƒ¨ç”¨å“ˆå¸Œå‡½æ•°å®ç°ï¼Œ**æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)**ã€‚
- å’Œ `map` ä¸åŒçš„æ˜¯ï¼š
  - `map` æ˜¯**æœ‰åº**çš„ï¼Œåº•å±‚æ˜¯çº¢é»‘æ ‘ï¼ŒæŸ¥æ‰¾ O(log n)
  - `unordered_map` æ˜¯**æ— åº**çš„ï¼Œåº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼ŒæŸ¥æ‰¾ O(1) å¹³å‡

------

## 2. åŸºæœ¬è¯­æ³•

### ï¼ˆ1ï¼‰å®šä¹‰

```
#include <unordered_map>
unordered_map<int, int> mp;    // é”®å’Œå€¼éƒ½æ˜¯ int
unordered_map<string, int> mp2; // é”®æ˜¯ stringï¼Œå€¼æ˜¯ int
```

### ï¼ˆ2ï¼‰æ’å…¥å…ƒç´ 

```
mp[10] = 5;          // å°† key=10, value=5 å­˜å…¥å“ˆå¸Œè¡¨
mp.insert({20, 8});  // æ’å…¥ key=20, value=8
```

> æ³¨æ„ï¼šå¦‚æœ `key` å·²å­˜åœ¨ï¼Œ`mp[key]=value` ä¼šæ›´æ–°å€¼ã€‚

### ï¼ˆ3ï¼‰è®¿é—®å…ƒç´ 

```
cout << mp[10];    // è¾“å‡º key=10 å¯¹åº”çš„å€¼ï¼ˆå¦‚æœ key ä¸å­˜åœ¨ï¼Œä¼šé»˜è®¤æ’å…¥ value=0ï¼‰
```

**å®‰å…¨è®¿é—®**ï¼ˆé¿å…é»˜è®¤æ’å…¥ï¼‰ï¼š

```
if (mp.find(10) != mp.end()) {
    cout << mp[10]; 
}
```

### ï¼ˆ4ï¼‰æŸ¥æ‰¾å…ƒç´ 

```
if (mp.find(10) != mp.end()) {
    cout << "å­˜åœ¨ key=10" << endl;
}

if (mp.count(10)) { // count(key) è¿”å› 0 æˆ– 1
    cout << "å­˜åœ¨ key=10" << endl;
}
```

### ï¼ˆ5ï¼‰åˆ é™¤å…ƒç´ 

```
mp.erase(10);   // åˆ é™¤ key=10
```

### ï¼ˆ6ï¼‰éå†å“ˆå¸Œè¡¨

```
for (auto &p : mp) {
    cout << p.first << " -> " << p.second << endl;
}
```

`p.first` æ˜¯é”®ï¼Œ`p.second` æ˜¯å€¼ã€‚

------

## 3. ä¾‹å­ï¼šç»ƒä¹ å“ˆå¸Œè¡¨åŸºæœ¬ç”¨æ³•

```
#include <iostream>
#include <unordered_map>
using namespace std;

int main() {
    unordered_map<string, int> mp;

    // æ’å…¥
    mp["apple"] = 3;
    mp["banana"] = 5;
    mp.insert({"orange", 7});

    // æŸ¥æ‰¾
    if (mp.count("apple")) {
        cout << "apple æ•°é‡: " << mp["apple"] << endl;
    }

    // éå†
    for (auto &p : mp) {
        cout << p.first << ": " << p.second << endl;
    }

    // åˆ é™¤
    mp.erase("banana");
    cout << "åˆ é™¤bananaåï¼Œå¤§å°: " << mp.size() << endl;

    return 0;
}
```

------

## 4. åœ¨ `twoSum` ä¸­å¦‚ä½•ç”¨ï¼Ÿ

å›é¡¾ `twoSum`ï¼š

```
unordered_map<int,int> pos; // key: æ•°å€¼ï¼Œvalue: ä¸‹æ ‡
pos[nums[i]] = i;           // å­˜å…¥å“ˆå¸Œè¡¨
if (pos.count(need)) {      // æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨
    return {pos[need], i};  // è·å–ä¹‹å‰å­˜çš„ä¸‹æ ‡
}
```

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†ï¼š

- `unordered_map` å®šä¹‰
- `[]` æ’å…¥/è®¿é—®
- `count()` åˆ¤æ–­æ˜¯å¦å­˜åœ¨

------

## 5. å¸¸è§æ³¨æ„ç‚¹

- `unordered_map` **ä¸ä¿è¯é¡ºåº**ï¼Œå¦‚æœéœ€è¦æœ‰åºï¼Œç”¨ `map`
- `[]` è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæ’å…¥é»˜è®¤å€¼ï¼ˆ0ã€ç©ºå­—ç¬¦ä¸²ç­‰ï¼‰ï¼Œé¿å…æ—¶å¯ç”¨ `find()` æˆ– `count()`
- å“ˆå¸Œè¡¨å¯¹å¤§æ•°æ®å¾ˆå¿«ï¼Œä½†ä¼šå ç”¨æ›´å¤šå†…å­˜



## ä¾‹é¢˜ï¼š

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ `target`ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º **å’Œä¸ºç›®æ ‡å€¼** *`target`* çš„é‚£ **ä¸¤ä¸ª** æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„å…ƒç´ ã€‚

ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
è¾“å‡ºï¼š[0,1]
è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,2,4], target = 6
è¾“å‡ºï¼š[1,2]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [3,3], target = 6
è¾“å‡ºï¼š[0,1]
```



```
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        // åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ˆunordered_mapï¼‰ï¼Œç”¨æ¥å­˜å‚¨ æ•°å€¼ -> ä¸‹æ ‡ çš„æ˜ å°„
        unordered_map<int, int> pos;

        // éå†æ•°ç»„
        for (int i = 0; i < (int)nums.size(); i++) {
            int need = target - nums[i]; // éœ€è¦æ‰¾åˆ°çš„å¦ä¸€ä¸ªæ•°

            // æ£€æŸ¥å“ˆå¸Œè¡¨ä¸­æ˜¯å¦æœ‰éœ€è¦çš„æ•°
            if (pos.count(need)) {
                // å¦‚æœæ‰¾åˆ°äº†ï¼Œè¿”å›è¿™ä¸¤ä¸ªæ•°çš„ä¸‹æ ‡
                return {pos[need], i};
            }

            // å¦‚æœæ²¡æ‰¾åˆ°ï¼ŒæŠŠå½“å‰æ•°å’Œå®ƒçš„ä¸‹æ ‡å­˜å…¥å“ˆå¸Œè¡¨
            pos[nums[i]] = i;
        }

        // é¢˜ç›®ä¿è¯ä¸€å®šæœ‰ç­”æ¡ˆï¼Œè¿™é‡Œä¸ä¼šæ‰§è¡Œ
        return {};
    }
};

int main() {
    Solution s;
    vector<int> nums = {2,7,11,15};
    int target = 9;
    vector<int> ans = s.twoSum(nums, target);
    cout << "[" << ans[0] << ", " << ans[1] << "]" << endl;
    return 0;
}

```

